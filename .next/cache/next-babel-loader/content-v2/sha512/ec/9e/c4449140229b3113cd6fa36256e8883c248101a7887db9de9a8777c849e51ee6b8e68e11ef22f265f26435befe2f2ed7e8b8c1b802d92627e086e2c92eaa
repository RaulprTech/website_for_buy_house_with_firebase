{"ast":null,"code":"import firebase from 'firebase';\nexport default ((request, res) => {\n  const {\n    query\n  } = request;\n  const {\n    capsule\n  } = query; //Data the all booths\n\n  let booths = [];\n  firebase.database().ref('/booths/').once('value', snapshot => {\n    const data = snapshot.val();\n    console.log(snapshot.val());\n\n    for (let key in data) {\n      let elems = {\n        code: data[key]['code'],\n        photo: data[key]['photo']\n      };\n      booths.push(elems);\n    }\n  });\n  res.statusCode = 200;\n  res.json({\n    b: booths\n  });\n});","map":{"version":3,"sources":["/home/raul/Documentos/Proyectos/Flexxo/flexxo-web/pages/api/booths/index.js"],"names":["firebase","request","res","query","capsule","booths","database","ref","once","snapshot","data","val","console","log","key","elems","code","photo","push","statusCode","json","b"],"mappings":"AAAA,OAAOA,QAAP,MAAqB,UAArB;AAGA,gBAAe,CAACC,OAAD,EAAUC,GAAV,KAAkB;AAC7B,QAAM;AAAEC,IAAAA;AAAF,MAAYF,OAAlB;AAEA,QAAM;AAAEG,IAAAA;AAAF,MAAcD,KAApB,CAH6B,CAM7B;;AACA,MAAIE,MAAM,GAAG,EAAb;AAEAL,EAAAA,QAAQ,CAACM,QAAT,GAAoBC,GAApB,CAAwB,UAAxB,EACKC,IADL,CACU,OADV,EACoBC,QAAD,IAAc;AACzB,UAAMC,IAAI,GAAGD,QAAQ,CAACE,GAAT,EAAb;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAYJ,QAAQ,CAACE,GAAT,EAAZ;;AACA,SAAK,IAAIG,GAAT,IAAgBJ,IAAhB,EAAsB;AAClB,UAAIK,KAAK,GAAG;AACRC,QAAAA,IAAI,EAAEN,IAAI,CAACI,GAAD,CAAJ,CAAU,MAAV,CADE;AAERG,QAAAA,KAAK,EAAEP,IAAI,CAACI,GAAD,CAAJ,CAAU,OAAV;AAFC,OAAZ;AAIAT,MAAAA,MAAM,CAACa,IAAP,CAAYH,KAAZ;AACH;AACJ,GAXL;AAaAb,EAAAA,GAAG,CAACiB,UAAJ,GAAiB,GAAjB;AACAjB,EAAAA,GAAG,CAACkB,IAAJ,CAAS;AAAEC,IAAAA,CAAC,EAAEhB;AAAL,GAAT;AAEH,CAzBD","sourcesContent":["import firebase from 'firebase';\n\n\nexport default (request, res) => {\n    const { query } = request;\n\n    const { capsule } = query\n\n\n    //Data the all booths\n    let booths = [];\n\n    firebase.database().ref('/booths/')\n        .once('value', (snapshot) => {\n            const data = snapshot.val()\n            console.log(snapshot.val())\n            for (let key in data) {\n                let elems = {\n                    code: data[key]['code'],\n                    photo: data[key]['photo'],\n                }\n                booths.push(elems);\n            }\n        })\n\n    res.statusCode = 200\n    res.json({ b: booths })\n\n}"]},"metadata":{},"sourceType":"module"}