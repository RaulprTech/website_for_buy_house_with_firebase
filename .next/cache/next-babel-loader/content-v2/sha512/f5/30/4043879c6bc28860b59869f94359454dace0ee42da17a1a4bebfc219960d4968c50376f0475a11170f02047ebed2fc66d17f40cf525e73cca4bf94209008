{"ast":null,"code":"import firebase from 'firebase';\nconst firebaseConfig = {\n  apiKey: \"AIzaSyAVqS7aoUzWym-4lShhqXIBbFlb3mX3chI\",\n  authDomain: \"organizer-345c5.firebaseapp.com\",\n  projectId: \"organizer-345c5\",\n  storageBucket: \"organizer-345c5.appspot.com\",\n  messagingSenderId: \"129998149603\",\n  appId: \"1:129998149603:web:841943151a3ffac3dfb2d6\",\n  measurementId: \"G-4C7WKV46JD\"\n};\n!firebase.apps.length && firebase.initializeApp(firebaseConfig);\nlet database = firebase.database();\n\nconst mapUserFromFirebaseAuthToUser = user => {\n  console.log(\"info de usuario\" + user);\n\n  if (user != null) {\n    console.log(\"informacion de usuario \" + user);\n    const {\n      displayName,\n      email,\n      photoURL,\n      uid\n    } = user;\n    return {\n      avatar: photoURL,\n      email,\n      name: displayName,\n      uid\n    };\n  } else {\n    return null;\n  }\n};\n\nexport const onAuthStateChanged = onChange => {\n  return firebase.auth().onAuthStateChanged(user => {\n    const normalizedUser = mapUserFromFirebaseAuthToUser(user);\n    onChange(normalizedUser);\n  });\n};\nexport const loginWithGoogle = () => {\n  const googleProvider = new firebase.auth.GoogleAuthProvider();\n  return firebase.auth().signInWithPopup(googleProvider); //        .then(mapUserFromFirebaseAuthToUser)\n};\nexport function logoutWithGoogle() {\n  firebase.auth().signOut().then(() => {// Sign-out successful.\n  }).catch(error => {// An error happened.\n  });\n} //Data the all booths\n\nexport const getBooths = () => {\n  let booths = [];\n  firebase.app().database().ref('/booths/').once('value', snapshot => {\n    const data = snapshot.val();\n\n    for (let key in data) {\n      let elems = {\n        code: data[key]['code'],\n        photo: data[key]['photo']\n      };\n      booths.push(elems);\n    }\n  });\n  return booths;\n};\nexport const addBooth = () => {\n  const boothId = Lg5DfOvUWjILYFg5_bx;\n  return firebase.database().ref('/booths/' + boothId).once('value').then(snapshot => {\n    const boothName = snapshot.val() && snapshot.val().name; // ...\n  });\n};\nexport const fetchData = () => {\n  const boothId = -Lg5DfOvUWjILYFg5_bx;\n  return database.ref('booths/' + boothId).get().then(snapshot => {\n    return snapshot.on('name');\n  });\n};\nexport function writeUserData(userId, name, email, imageUrl) {\n  firebase.database().ref('users/' + userId).set({\n    username: name,\n    email: email,\n    profile_picture: imageUrl\n  });\n}","map":null,"metadata":{},"sourceType":"module"}