{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/home/raulprtech/projects/blogs/dev/hooks/useAuth.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$(),\n    _s3 = $RefreshSig$();\n\n// Hook (use-auth.js)\nimport React, { useState, useEffect, useContext, createContext } from \"react\";\nimport firebase from 'firebase';\nimport \"firebase/auth\"; // Add your Firebase credentials\n\n!firebase.apps.length && firebase.initializeApp({\n  apiKey: \"AIzaSyAb42q41W0gH-0OHLPw6mOHcvQoGFFfwtE\",\n  authDomain: \"flexxo-dev.firebaseapp.com\",\n  databaseURL: \"https://flexxo-dev-default-rtdb.firebaseio.com\",\n  projectId: \"flexxo-dev\",\n  storageBucket: \"flexxo-dev.appspot.com\",\n  messagingSenderId: \"462526675458\",\n  appId: \"1:462526675458:web:6156527a55904bd5e1051b\",\n  measurementId: \"G-E04VE4YK0W\"\n});\nvar authContext = /*#__PURE__*/createContext(); // Provider component that wraps your app and makes auth object ...\n// ... available to any child component that calls useAuth().\n\nexport function ProvideAuth(_ref) {\n  _s();\n\n  var children = _ref.children;\n  var auth = useProvideAuth();\n  return /*#__PURE__*/_jsxDEV(authContext.Provider, {\n    value: auth,\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 28,\n    columnNumber: 12\n  }, this);\n} // Hook for child components to get the auth object ...\n// ... and re-render when it changes.\n\n_s(ProvideAuth, \"XNU4Jn8u4aVzJknlKOHFJq03xMo=\", false, function () {\n  return [useProvideAuth];\n});\n\n_c = ProvideAuth;\nexport var useAuth = function useAuth() {\n  _s2();\n\n  return useContext(authContext);\n}; // Provider hook that creates auth object and handles state\n\n_s2(useAuth, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\n\nfunction useProvideAuth() {\n  _s3();\n\n  var _useState = useState(null),\n      user = _useState[0],\n      setUser = _useState[1]; // Wrap any Firebase methods we want to use making sure ...\n  // ... to save the user to state.\n\n\n  var signin = function signin(email, password) {\n    return firebase.auth().signInWithEmailAndPassword(email, password).then(function (response) {\n      setUser(response.user);\n      return response.user;\n    });\n  };\n\n  var signup = function signup(email, password) {\n    return firebase.auth().createUserWithEmailAndPassword(email, password).then(function (response) {\n      setUser(response.user);\n      return response.user;\n    });\n  };\n\n  var signout = function signout() {\n    return firebase.auth().signOut().then(function () {\n      setUser(false);\n    });\n  };\n\n  var sendPasswordResetEmail = function sendPasswordResetEmail(email) {\n    return firebase.auth().sendPasswordResetEmail(email).then(function () {\n      return true;\n    });\n  };\n\n  var confirmPasswordReset = function confirmPasswordReset(code, password) {\n    return firebase.auth().confirmPasswordReset(code, password).then(function () {\n      return true;\n    });\n  }; // Subscribe to user on mount\n  // Because this sets state in the callback it will cause any ...\n  // ... component that utilizes this hook to re-render with the ...\n  // ... latest auth object.\n\n\n  useEffect(function () {\n    var unsubscribe = firebase.auth().onAuthStateChanged(function (user) {\n      if (user) {\n        setUser(user);\n      } else {\n        setUser(false);\n      }\n    }); // Cleanup subscription on unmount\n\n    return function () {\n      return unsubscribe();\n    };\n  }, []); // Return the user object and auth methods\n\n  return {\n    user: user,\n    signin: signin,\n    signup: signup,\n    signout: signout,\n    sendPasswordResetEmail: sendPasswordResetEmail,\n    confirmPasswordReset: confirmPasswordReset\n  };\n}\n\n_s3(useProvideAuth, \"5s2qRsV95gTJBmaaTh11GoxYeGE=\");\n\nvar _c;\n\n$RefreshReg$(_c, \"ProvideAuth\");","map":{"version":3,"sources":["/home/raulprtech/projects/blogs/dev/hooks/useAuth.js"],"names":["React","useState","useEffect","useContext","createContext","firebase","apps","length","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","authContext","ProvideAuth","children","auth","useProvideAuth","useAuth","user","setUser","signin","email","password","signInWithEmailAndPassword","then","response","signup","createUserWithEmailAndPassword","signout","signOut","sendPasswordResetEmail","confirmPasswordReset","code","unsubscribe","onAuthStateChanged"],"mappings":"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","sourcesContent":["// Hook (use-auth.js)\nimport React, { useState, useEffect, useContext, createContext } from \"react\";\nimport firebase from 'firebase'\nimport \"firebase/auth\";\n\n// Add your Firebase credentials\n!firebase.apps.length &&\n    firebase.initializeApp({\n        apiKey: \"AIzaSyAb42q41W0gH-0OHLPw6mOHcvQoGFFfwtE\",\n        authDomain: \"flexxo-dev.firebaseapp.com\",\n        databaseURL: \"https://flexxo-dev-default-rtdb.firebaseio.com\",\n        projectId: \"flexxo-dev\",\n        storageBucket: \"flexxo-dev.appspot.com\",\n        messagingSenderId: \"462526675458\",\n        appId: \"1:462526675458:web:6156527a55904bd5e1051b\",\n        measurementId: \"G-E04VE4YK0W\"\n    });\n\n\n\n\nconst authContext = createContext();\n\n// Provider component that wraps your app and makes auth object ...\n// ... available to any child component that calls useAuth().\nexport function ProvideAuth({ children }) {\n    const auth = useProvideAuth();\n    return <authContext.Provider value={auth}>{children}</authContext.Provider>;\n}\n\n// Hook for child components to get the auth object ...\n// ... and re-render when it changes.\nexport const useAuth = () => {\n    return useContext(authContext);\n};\n\n// Provider hook that creates auth object and handles state\nfunction useProvideAuth() {\n    const [user, setUser] = useState(null);\n\n    // Wrap any Firebase methods we want to use making sure ...\n    // ... to save the user to state.\n    const signin = (email, password) => {\n        return firebase\n            .auth()\n            .signInWithEmailAndPassword(email, password)\n            .then(response => {\n                setUser(response.user);\n                return response.user;\n            });\n    };\n\n    const signup = (email, password) => {\n        return firebase\n            .auth()\n            .createUserWithEmailAndPassword(email, password)\n            .then(response => {\n                setUser(response.user);\n                return response.user;\n            });\n    };\n\n    const signout = () => {\n        return firebase\n            .auth()\n            .signOut()\n            .then(() => {\n                setUser(false);\n            });\n    };\n\n    const sendPasswordResetEmail = email => {\n        return firebase\n            .auth()\n            .sendPasswordResetEmail(email)\n            .then(() => {\n                return true;\n            });\n    };\n\n    const confirmPasswordReset = (code, password) => {\n        return firebase\n            .auth()\n            .confirmPasswordReset(code, password)\n            .then(() => {\n                return true;\n            });\n    };\n\n    // Subscribe to user on mount\n    // Because this sets state in the callback it will cause any ...\n    // ... component that utilizes this hook to re-render with the ...\n    // ... latest auth object.\n    useEffect(() => {\n        const unsubscribe = firebase.auth().onAuthStateChanged(user => {\n            if (user) {\n                setUser(user);\n            } else {\n                setUser(false);\n            }\n        });\n\n        // Cleanup subscription on unmount\n        return () => unsubscribe();\n    }, []);\n\n    // Return the user object and auth methods\n    return {\n        user,\n        signin,\n        signup,\n        signout,\n        sendPasswordResetEmail,\n        confirmPasswordReset\n    };\n}\n"]},"metadata":{},"sourceType":"module"}